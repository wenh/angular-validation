(function(){angular.module("validation",["validation.provider","validation.directive"])}).call(this),function(){angular.module("validation.provider",[]).provider("$validation",function(){var a,b,c,d,e=this,f=function(e){a=e,b=a.get("$rootScope"),c=a.get("$http"),d=a.get("$q")},g={required:/^.+$/,url:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,email:/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,number:/^\d+$/},h={required:{error:"This should be Required!!",success:"It's Required"},url:{error:"This should be Url",success:"It's Url"},email:{error:"This should be Email",success:"It's Email"},number:{error:"This should be Number",success:"It's Number"}};this.setExpression=function(a){angular.extend(g,a)},this.getExpression=function(a){return g[a]},this.setDefaultMsg=function(a){angular.extend(h,a)},this.getDefaultMsg=function(a){return h[a]},this.setErrorHTML=function(a){a.constructor===Function&&(e.getErrorHTML=a)},this.getErrorHTML=function(a){return'<p class="validation-invalid">'+a+"</p>"},this.setSuccessHTML=function(a){a.constructor===Function&&(e.getSuccessHTML=a)},this.getSuccessHTML=function(a){return'<p class="validation-valid">'+a+"</p>"},this.showOrHideMsg={success:{show:function(){b.$broadcast("noValidationMessage",{success:!1})},hide:function(){b.$broadcast("noValidationMessage",{success:!0})}},error:{show:function(){b.$broadcast("noValidationMessage",{error:!1})},hide:function(){b.$broadcast("noValidationMessage",{error:!0})}},both:{show:function(){b.$broadcast("noValidationMessage",{both:!1})},hide:function(){b.$broadcast("noValidationMessage",{both:!0})}}},this.checkValid=function(a){return void 0===a.$valid?!1:a&&a.$valid===!0},this.validate=function(a){for(var c in a)a[c].hasOwnProperty("$dirty")&&b.$broadcast(c+"submit");var f=d.defer();return f.promise.success=function(a){return f.promise.then(function(b){a(b)}),f.promise},f.promise.error=function(a){return f.promise.then(null,function(b){a(b)}),f.promise},e.checkValid(a)?f.resolve("success"):f.reject("error"),f.promise},this.reset=function(a){for(var c in a)a[c].hasOwnProperty("$dirty")&&(a[c].$setViewValue(null),a[c].$setPristine(),a[c].$setValidity(a[c].$name,!1),a[c].$render(),b.$broadcast(c+"reset"))},this.$get=function(a){return f(a),{setErrorHTML:this.setErrorHTML,getErrorHTML:this.getErrorHTML,setSuccessHTML:this.setSuccessHTML,getSuccessHTML:this.getSuccessHTML,setExpression:this.setExpression,getExpression:this.getExpression,setDefaultMsg:this.setDefaultMsg,getDefaultMsg:this.getDefaultMsg,showMsg:this.showOrHideMsg.both.show,showSuccessMsg:this.showOrHideMsg.success.show,showErrorMsg:this.showOrHideMsg.error.show,hideMsg:this.showOrHideMsg.both.hide,hideSuccessMsg:this.showOrHideMsg.success.hide,hideErrorMsg:this.showOrHideMsg.error.hide,checkValid:this.checkValid,validate:this.validate,reset:this.reset}}})}.call(this),function(){angular.module("validation.directive",["validation.provider"]).directive("validator",["$injector",function(a){var b="val-valid",c="val-invalid",d=a.get("$validation"),e=a.get("$q"),f=a.get("$timeout"),g=function(a,e,f,g,h){var i=a.next();i.hasClass(b)||i.addClass(b),i.hasClass(c)&&i.removeClass(c),i.html(d.getSuccessHTML(e||d.getDefaultMsg(f).success)),h.$setValidity(h.$name,!0),g&&g()},h=function(a,e,f,g,h){var i=a.next();i.hasClass(c)||i.addClass(c),i.hasClass(b)&&i.removeClass(b),i.html(d.getErrorHTML(e||d.getDefaultMsg(f).error)),h.$setValidity(h.$name,!1),g&&g()},i=function(a,b,c,f,i,j){var k=i+"SuccessMessage",l=i+"ErrorMessage",m=d.getExpression(i).constructor,n={success:function(){g(b,c[k],i,a.validCallback(),f)},error:function(){h(b,c[l],i,a.invalidCallback(),f)}};return m===Function?e.all([d.getExpression(i)(j)]).then(function(a){return a&&a.length>0&&a[0]?n.success():n.error()},function(){return n.error()}):m===RegExp?d.getExpression(i).test(j)?n.success():n.error():n.error()};return{restrict:"A",require:"ngModel",scope:{model:"=ngModel",validCallback:"&",invalidCallback:"&"},link:function(a,d,e,g){var h=e.validator.split(",");d.after("<span></span>"),h.forEach(function(b){return g.$setValidity(g.$name,!1),a.$on(g.$name+"submit",function(){var c=d[0].value;i(a,d,e,g,b,c)}),a.$on(g.$name+"reset",function(){d.next().html("")}),"blur"===e.validMethod?void d.bind("blur",function(){var c=d[0].value;a.$apply(function(){i(a,d,e,g,b,c)})}):void("submit"!==e.validMethod&&a.$watch("model",function(c){if(g.$pristine&&g.$viewValue)g.$setViewValue(g.$viewValue);else if(g.$pristine)return void d.next().html("");i(a,d,e,g,b,c)}))}),f(function(){a.$on("noValidationMessage",function(a,b){b.hasOwnProperty("success")&&e.$set("noSuccessMessage",b.success),b.hasOwnProperty("error")&&e.$set("noErrorMessage",b.error),b.hasOwnProperty("both")&&e.$set("noValidationMessage",b.both)}),e.$observe("noSuccessMessage",function(a){var c=d.next();("false"==e.noValidationMessage||0==e.noValidationMessage)&&g.$valid&&!g.$invalid&&c.hasClass(b)&&("true"==a||1==a?c.css("display","none"):"false"==a||0==a?c.css("display","block"):e.noSuccessMessage="false")}),e.$observe("noErrorMessage",function(a){var b=d.next();("false"==e.noValidationMessage||0==e.noValidationMessage)&&g.$invalid&&!g.$valid&&b.hasClass(c)&&("true"==a||1==a?b.css("display","none"):"false"==a||0==a?b.css("display","block"):e.noErrorMessage="false")}),e.$observe("noValidationMessage",function(a){var b=d.next();"true"==a||1==a?b.css("display","none"):"false"==a||0==a?b.css("display","block"):e.noValidationMessage="false"})})}}}])}.call(this);